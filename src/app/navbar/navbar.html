<nav class="header">
  <a
    class="header-item"
    matButton="tonal"
    routerLink=""
    routerLinkActive="active"
    data-testid="nav-home"
    [routerLinkActiveOptions]="{exact: true}"
  >
    <mat-icon
      class="header-icon"
      aria-hidden="false"
      aria-label="Example home icon"
      fontIcon="home"
    ></mat-icon>
    Home
  </a>

  @for(route of routes; track $index) {
  <a
    class="header-item"
    matButton="tonal"
    routerLinkActive="active"
    [routerLink]="route.path"
    [routerLinkActiveOptions]="{exact: true}"
    [attr.data-testid]="'nav-' + route.name | noSpaces"
    >{{ route.name }}</a
  >
  }

  <span class="spacer"></span>

  @if(!userDataLoading()) { @if (user()) {
  <button
    mat-icon-button
    aria-label="Log out"
    matTooltip="Log out"
    data-testid="logout"
    (click)="logoutClicked.emit()"
  >
    <mat-icon class="delete-icon">logout</mat-icon>
  </button>
  } @else {
  <a
    class="action-button"
    matButton="outlined"
    routerLinkActive="active"
    data-testid="login"
    [routerLink]="routesConfig.LOGIN.path"
    [routerLinkActiveOptions]="{exact: true}"
  >
    <mat-icon
      class="header-icon"
      aria-hidden="false"
      aria-label="Example home icon"
      fontIcon="login"
    ></mat-icon>
    {{ routesConfig.LOGIN.name }}
  </a>
  <a
    class="action-button"
    matButton="outlined"
    routerLinkActive="active"
    data-testid="signup"
    [routerLink]="routesConfig.SIGNUP.path"
    [routerLinkActiveOptions]="{exact: true}"
  >
    <mat-icon
      class="header-icon"
      aria-hidden="false"
      aria-label="Example home icon"
      fontIcon="person_add"
    ></mat-icon>
    {{ routesConfig.SIGNUP.name }}
  </a>
  } } @else { Loading user...
  <mat-spinner diameter="30" data-testid="loading-spinner"></mat-spinner>
  }
</nav>
